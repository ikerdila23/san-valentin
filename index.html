<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Â¿Quieres ser mi San ValentÃ­n?</title>
    <link rel="stylesheet" href="./styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;800&family=Pacifico&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="background-hearts" id="bg-hearts"></div>
    <div id="escape-layer"></div>

    <!-- Sound Toggle -->
    <button id="sound-toggle" class="sound-toggle" aria-label="Activar/Desactivar sonido">ğŸ”Š</button>

    <!-- PANTALLA 1 -->
    <section id="screen-1" class="screen active">
        <div class="card">
            <!-- Foto opcional -->
            <div id="partner-photo-container" class="hidden">
                <img id="partner-photo" src="" alt="Nosotros" class="partner-photo">
            </div>

            <h1 class="title">Â¿Quieres ser mi San ValentÃ­n<span id="partner-name-display"></span>? ğŸ’Œ</h1>
            <p class="subtitle" id="since-date-display">Prometo que es importante ğŸ˜³</p>

            <div class="buttons-container">
                <div class="btn-msg-container" id="msg-container-1"></div>
                <!-- BotÃ³n Yes modificado para el toast -->
                <button class="btn btn-yes" id="btn-y1">SÃ­ ğŸ’–</button>
                <button class="btn btn-no" id="btn-n1">No ğŸ˜…</button>
            </div>
        </div>
    </section>

    <!-- PANTALLA 2 -->
    <section id="screen-2" class="screen hidden">
        <div class="card">
            <h1 class="title">Pues querrÃ¡s un regalo, Â¿no? ğŸ</h1>
            <div class="buttons-container reverse">
                <div class="btn-msg-container" id="msg-container-2"></div>
                <button class="btn btn-yes-escape" id="btn-y2">SÃ­ ğŸ˜</button>
                <button class="btn btn-no-static" id="btn-n2">No ğŸ¤­</button>
            </div>
        </div>
    </section>

    <!-- PANTALLA 3 -->
    <section id="screen-3" class="screen hidden">
        <canvas id="confetti-canvas"></canvas>
        <div class="container">
            <h1 class="title">AquÃ­ tienes tus regalos ğŸ’</h1>
            <div class="gift-grid">
                <div class="gift-box" onclick="openGift(this, 0)">
                    <div class="gift-lid">
                        <span class="gift-bow"></span>
                    </div>
                    <div class="gift-body">
                        <span class="gift-text">?</span>
                    </div>
                    <div class="gift-content"></div>
                </div>
                <div class="gift-box" onclick="openGift(this, 1)">
                    <div class="gift-lid">
                        <span class="gift-bow"></span>
                    </div>
                    <div class="gift-body">
                        <span class="gift-text">?</span>
                    </div>
                    <div class="gift-content"></div>
                </div>
                <div class="gift-box" onclick="openGift(this, 2)">
                    <div class="gift-lid">
                        <span class="gift-bow"></span>
                    </div>
                    <div class="gift-body">
                        <span class="gift-text">?</span>
                    </div>
                    <div class="gift-content"></div>
                </div>
                <div class="gift-box" onclick="openGift(this, 3)">
                    <div class="gift-lid">
                        <span class="gift-bow"></span>
                    </div>
                    <div class="gift-body">
                        <span class="gift-text">?</span>
                    </div>
                    <div class="gift-content"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Toast -->
    <div id="toast" class="toast hidden"></div>

    <!-- Letter Overlay -->
    <!-- Letter Overlay -->
    <!-- Letter Overlay -->
    <!-- OVERLAY CARTA (sobre que se abre + carta sale) -->
    <div id="letter-overlay" class="letter-overlay hidden" aria-hidden="true">
        <div class="letter-backdrop" data-action="close-letter"></div>

        <div class="letter-stage" role="dialog" aria-modal="true" aria-label="Carta">
            <button class="letter-x" type="button" data-action="close-letter" aria-label="Cerrar">âœ•</button>

            <div class="envelope-wrap">
                <div class="envelope" id="envelope">
                    <div class="env-back"></div>
                    <div class="env-front"></div>
                    <div class="env-flap"></div>
                    <div class="env-heart" aria-hidden="true">â¤</div>

                    <!-- La carta estÃ¡ DENTRO del sobre visualmente al inicio -->
                    <div class="letter-sheet" id="letter-sheet">
                        <div class="sheet-top">
                            <div class="sheet-stamp" aria-hidden="true">ğŸ’Œ</div>
                            <h3 id="letter-title" class="sheet-title"></h3>
                        </div>

                        <div id="letter-body" class="sheet-body"></div>

                        <img id="letter-img" class="sheet-img" alt="Nuestra foto" />

                        <div class="sheet-sign">â€” Iker ğŸ’Œ</div>

                        <button class="btn btn-yes sheet-close" type="button" data-action="close-letter">Cerrar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="./app.js" defer></script>
</body>

</html>